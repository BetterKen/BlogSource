---
title: Redis使用规范
date: 2020-04-20 23:00:00
tags:
    - 规范
    - Redis
categories:
    - 基础
    - 规范
---

## 1 键值设计

### 1.1 key名设计
- 可读性与可管理性，建议业务名为前缀（防止key冲突）,用冒号分隔，比如业务名:表名:id
- 禁止包含特殊字符（比如空格、换行、单双引号以及其他转义字符）
- 简洁性，保证语义的前提下尽量控制key长度，降低内存占用

### 1.2 value设计
- 拒绝大key操作string类型控制在10KB以内，hash、list、set、zset元素个数不要超过5000
- 设计时选择合适的数据类型
- 控制key的生命周期

## 2 存储设计
- 冷热数据分离，不要将所有数据全部放入Redis中
- 不同业务数据建议分开存储，Redis为单线程处理，独立存储降低业务间相互影响
- 存储key需设置超时时间，防止内存长期占用
- 对于必须存储的大文本数据需压缩处理后进行存储
- 程序端需处理Redis数据丢失时的重新加载过程

## 3 命令使用

- **禁止**使用keys、flushall、flushdb等操作命令
- 合理使用select命令