---
title: 日志等级规范
date: 2020-04-21  21:50:00
tags:
    - 规范
categories:
    - 基础
    - 规范
---

## 1 日志等级

|日志级别|要求|打印场景|示例|
|:----:|:----:|:----:|:----|
|DEBUG|强制|debug信息、细粒度信息事件|调试信息|
|INFO|强制|重要事件、强调应用程序的运行过程|用户登录的SQL信息、创建任务时的执行过程|
|NOTICE|推荐|一般重要性事件、执行过程中较INFO级别更为重要的信息|调用外部API时的过程日志|
|WARNING|推荐|出现了非错误性的异常信息、潜在异常信息、需要关注并且需要修|调用了已经被弃用的API、用户请求参数中包含了非法字符但经过处理无害|
|ERROR|强制|运行时出现的错误、不必要立即进行修复、不影响整个逻辑的运行、需要记录并做检测|调用预期存在的Cache出现未命中进而查询DB、调用某首选API不通进而调用候选API|
|CRITICAL/FATAL|强制|紧急情况、需要立刻进行修复、程序组件不可用|程序组件异常退出、用户注册逻辑不能发送邮件|
|ALERT|推荐|必须立即采取行动的紧急事件、需要立即通知相关人员紧急修复|整个网站垮掉、DB/Cache无法连接|
|EMERGENCY|推荐|系统不可用|磁盘不可写|

**【注】请慎用日志级别,避免所有信息写到ERROR及以上级别,警惕“狼来了”带来的运维麻痹**



## 2 报警频率

系统会根据日志等级的不同,报警频率不同:

|日志级别|报警频率|报警方式|
|:----:|:----:|:----:|
|DEBUG|-|-|
|INFO|-|-|
|NOTICE|-|-|
|WARNING|每天报警|邮件|
|ERROR|每半小时报警|邮件|
|CRITICAL/FATAL|每10分钟报警|邮件+钉钉|
|ALERT|每5分钟报警|邮件+钉钉+短信|
|EMERGENCY|每分钟报警|邮件+钉钉+短信+电话|

